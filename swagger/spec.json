{"openapi":"3.0.0","info":{"title":"ELBAT-REST-API","version":"1.0.0"},"paths":{"/establishment/{id}":{"get":{"tags":["Establishment"],"security":[{"bearerAuth":[]}],"description":"Renvoie un établissement","parameters":[{"name":"id","description":"ID d'un établissement","in":"path","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"$ref":"#/components/responses/EstablishmentFound"},"400":{"$ref":"#/components/responses/EstablishmentToGetBadRequest"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"404":{"description":"L'établissement n'a pas été trouvé"},"500":{"description":"Erreur serveur"}}}},"/establishment":{"get":{"tags":["Establishment"],"security":[{"bearerAuth":[]}],"description":"Renvoie la liste de tous les établissements","responses":{"200":{"$ref":"#/components/responses/ArrayOfEstablishments"},"400":{"$ref":"#/components/responses/ErrorJWT"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"404":{"description":"Les établissements n'ont pas été trouvées"},"500":{"description":"Erreur serveur"}}},"post":{"tags":["Establishment"],"security":[{"bearerAuth":[]}],"description":"Ajoute un établissement et renvoie son id","requestBody":{"$ref":"#/components/requestBodies/EstablishmentToAdd"},"responses":{"200":{"$ref":"#/components/responses/EstablishmentAdded"},"400":{"$ref":"#/components/responses/EstablishmentToAddBadRequest"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"500":{"description":"Erreur serveur"}}},"patch":{"tags":["Establishment"],"security":[{"bearerAuth":[]}],"description":"Modifie un établissement","requestBody":{"$ref":"#/components/requestBodies/EstablishmentToUpdate"},"responses":{"204":{"$ref":"#/components/responses/EstablishmentUpdated"},"400":{"$ref":"#/components/responses/EstablishmentToUpdateBadRequest"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"404":{"description":"L'établissement ou son adresse n'a pas été trouvé dans la base de données"},"500":{"description":"Erreur serveur"}}},"delete":{"tags":["Establishment"],"security":[{"bearerAuth":[]}],"description":"Supprime un établissement","requestBody":{"$ref":"#/components/requestBodies/EstablishmentToDelete"},"responses":{"204":{"$ref":"#/components/responses/EstablishmentDeleted"},"400":{"$ref":"#/components/responses/EstablishmentToDeleteBadRequest"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"404":{"description":"L'établissement n'a pas été trouvé dans la base de données"},"500":{"description":"Erreur serveur"}}}},"/person/one/username/{username}":{"get":{"tags":["Person"],"security":[{"bearerAuth":[]}],"description":"Renvoie un utilisateur sur base de son nom d'utilisateur","parameters":[{"name":"username","description":"nom d'utilisateur d'une personne","in":"path","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"$ref":"#/components/responses/UserbyUsernameFound"},"400":{"$ref":"#/components/responses/UserbyUsernameToGetBadRequest"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"404":{"description":"L'utilisateur n'a pas été trouvé"},"500":{"description":"Erreur serveur"}}}},"/person/one/phoneNumber/{phoneNumber}":{"get":{"tags":["Person"],"security":[{"bearerAuth":[]}],"description":"Renvoie un utilisateur sur base de son numéro de téléphone","parameters":[{"name":"phoneNumber","description":"numéro de téléphone d'une personne","in":"path","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"$ref":"#/components/responses/UserbyPhoneFound"},"400":{"$ref":"#/components/responses/UserbyPhoneToGetBadRequest"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeWaiter"},"404":{"description":"L'utilisateur n'a pas été trouvé"},"500":{"description":"Erreur serveur"}}}},"/person/waiters/{establishmentId}":{"get":{"tags":["Person"],"security":[{"bearerAuth":[]}],"description":"Renvoie tous les serveurs d'un restaurant","parameters":[{"name":"establishmentId","description":"id d'un établissement","in":"path","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"$ref":"#/components/responses/UsersByEstablishmentIdFound"},"400":{"$ref":"#/components/responses/UsersByEstablishmentIdToGetBadRequest"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"404":{"description":"Les serveurs de cet établissement n'ont pas été trouvés"},"500":{"description":"Erreur serveur"}}}},"/person/all":{"get":{"tags":["Person"],"security":[{"bearerAuth":[]}],"description":"Renvoie tous utilisateurs","responses":{"200":{"$ref":"#/components/responses/UsersFound"},"400":{"$ref":"#/components/responses/ErrorJWT"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"404":{"description":"Les utilisateurs n'ont pas été trouvés"},"500":{"description":"Erreur serveur"}}}},"/person":{"post":{"tags":["Person"],"security":[{"bearerAuth":[]}],"description":"Ajoute un utilisateur","requestBody":{"$ref":"#/components/requestBodies/UserToAdd"},"responses":{"201":{"$ref":"#/components/responses/UserAdded"},"400":{"$ref":"#/components/responses/UserToAddBadRequest"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"500":{"description":"Erreur serveur"}}},"patch":{"tags":["Person"],"security":[{"bearerAuth":[]}],"description":"Modifie un utilisateur","requestBody":{"$ref":"#/components/requestBodies/UserToUpdate"},"responses":{"204":{"$ref":"#/components/responses/UserUpdated"},"400":{"$ref":"#/components/responses/UserToUpdateBadRequest"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"description":"Seul l'administrateur peut modifier une autre personne que lui-même"},"404":{"description":"L'utilisateur ou son adresse n'a pas été trouvé dans la base de données"},"500":{"description":"Erreur serveur"}}}},"/person/updatePassword":{"patch":{"tags":["Person"],"security":[{"bearerAuth":[]}],"description":"Modifie le mot de passe d'un utilisateur","requestBody":{"$ref":"#/components/requestBodies/PasswordToUpdate"},"responses":{"204":{"$ref":"#/components/responses/PasswordUpdated"},"400":{"$ref":"#/components/responses/PasswordToUpdateBadRequest"},"401":{"$ref":"#/components/responses/PasswordToUpdateUnauthorized"},"404":{"description":"L'utilisateur n'a pas été trouvé dans la base de données"},"500":{"description":"Erreur serveur"}}}},"/person/addToEstablishment":{"patch":{"tags":["Person"],"security":[{"bearerAuth":[]}],"description":"Lie un utilisateur à un établissement","requestBody":{"$ref":"#/components/requestBodies/UserToLink"},"responses":{"204":{"$ref":"#/components/responses/UserLinkedToEstablishment"},"400":{"$ref":"#/components/responses/UserToLinkBadRequest"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"404":{"description":"L'utilisateur ou son établissement n'a pas été trouvé dans la base de données"},"500":{"description":"Erreur serveur"}}}},"/person/removeFromEstablishment":{"patch":{"tags":["Person"],"security":[{"bearerAuth":[]}],"description":"Détache un serveur d'un établissement","requestBody":{"$ref":"#/components/requestBodies/UserToUnlink"},"responses":{"204":{"$ref":"#/components/responses/UserUnlinkedFromEstablishment"},"400":{"$ref":"#/components/responses/UserToUnlinkBadRequest"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"404":{"description":"L'utilisateur ou son établissement n'a pas été trouvé dans la base de données"},"500":{"description":"Erreur serveur"}}}},"/reservation/client/{idClient}":{"get":{"tags":["Reservation"],"security":[{"bearerAuth":[]}],"description":"Renvoie toutes les réservations d'un client","parameters":[{"name":"idClient","description":"ID d'un client","in":"path","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"$ref":"#/components/responses/ArrayOfClientReservations"},"400":{"$ref":"#/components/responses/ClientReservationsToGetBadRequest"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"404":{"description":"Les réservations du client n'ont pas été trouvées"},"500":{"description":"Erreur serveur"}}}},"/reservation/{establishmentId}/{dateTimeReserved}":{"get":{"tags":["Reservation"],"security":[{"bearerAuth":[]}],"description":"Renvoie toutes les réservations d'un jour","parameters":[{"name":"establishmentId","description":"établissement pour lequel on veut les réservations du jour","in":"path","required":true,"schema":{"type":"integer"}},{"name":"dateTimeReserved","description":"jour au format YYYY-MM-DD","in":"path","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"$ref":"#/components/responses/ArrayOfDayReservations"},"400":{"$ref":"#/components/responses/DayReservationsToGetBadRequest"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeWaiter"},"404":{"description":"Les réservations du jour our cet établissement n'ont pas été trouvées"},"500":{"description":"Erreur serveur"}}}},"/reservation":{"post":{"tags":["Reservation"],"security":[{"bearerAuth":[]}],"description":"Ajoute une réservation","requestBody":{"$ref":"#/components/requestBodies/ReservationToAdd"},"responses":{"201":{"$ref":"#/components/responses/ReservationAdded"},"400":{"$ref":"#/components/responses/ReservationToAddBadRequest"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"500":{"description":"Erreur serveur"}}}},"/reservation/arrivingTime":{"patch":{"tags":["Reservation"],"security":[{"bearerAuth":[]}],"description":"Met à jour de l'heure d'arrivée du client","requestBody":{"$ref":"#/components/requestBodies/ArrivingTimeToUpdate"},"responses":{"204":{"$ref":"#/components/responses/ArrivingTimeUpdated"},"400":{"$ref":"#/components/responses/ArrivingTimeToUpdateBadRequest"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeWaiter"},"404":{"description":"La réservation du client n'a pas été trouvée"},"500":{"description":"Erreur serveur"}}}},"/reservation/exitTime":{"patch":{"tags":["Reservation"],"security":[{"bearerAuth":[]}],"description":"Met à jour de l'heure de sortie du client","requestBody":{"$ref":"#/components/requestBodies/ExitTimeToUpdate"},"responses":{"204":{"$ref":"#/components/responses/ExitTimeUpdated"},"400":{"$ref":"#/components/responses/ExitTimeToUpdateBadRequest"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeWaiter"},"404":{"description":"La réservation du client n'a pas été trouvée"},"500":{"description":"Erreur serveur"}}}},"/reservation/cancel":{"patch":{"tags":["Reservation"],"security":[{"bearerAuth":[]}],"description":"Annule la réservation d'un client","requestBody":{"$ref":"#/components/requestBodies/ReservationToCancel"},"responses":{"204":{"$ref":"#/components/responses/ReservationCanceled"},"400":{"$ref":"#/components/responses/ReservationToCancelBadRequest"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeWaiter"},"404":{"description":"La réservation du client n'a pas été trouvée"},"500":{"description":"Erreur serveur"}}}},"/table/{idEstablishment}":{"get":{"tags":["Table"],"security":[{"bearerAuth":[]}],"description":"Renvoie la liste de toutes les tables d'un établissement","parameters":[{"name":"idEstablishment","description":"ID d'un établissement","in":"path","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"$ref":"#/components/responses/ArrayOfTables"},"400":{"$ref":"#/components/responses/TablesToGetBadRequest"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"404":{"description":"Les tables de l'établissement n'ont pas été trouvées"},"500":{"description":"Erreur serveur"}}}},"/table/{idEstablishment}/{chosenDate}":{"get":{"tags":["Table"],"security":[{"bearerAuth":[]}],"description":"Renvoie la liste de toutes les tables libres d'un établissement pour une telle date","parameters":[{"name":"establishmentId","description":"ID d'un établissement","in":"path","required":true,"schema":{"type":"integer"}},{"name":"chosenDate","description":"Date pour laquelle la recherche est effectuée","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"$ref":"#/components/responses/ArrayOfTables"},"400":{"$ref":"#/components/responses/TablesToGetBadRequest"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"404":{"description":"Les tables de l'établissement n'ont pas été trouvées"},"500":{"description":"Erreur serveur"}}}},"/table/{idEstablishment}/{idTable}":{"get":{"tags":["Table"],"security":[{"bearerAuth":[]}],"description":"Renvoie une table d'un établissement","parameters":[{"name":"idEstablishment","description":"ID d'un établissement","in":"path","required":true,"schema":{"type":"integer"}},{"name":"idTable","description":"ID d'une table d'un établissement","in":"path","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"$ref":"#/components/responses/TableFound"},"400":{"$ref":"#/components/responses/TableToGetBadRequest"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"404":{"description":"La table de l'établissement n'a pas été trouvée"},"500":{"description":"Erreur serveur"}}}},"/table":{"post":{"tags":["Table"],"security":[{"bearerAuth":[]}],"description":"Ajoute une table à un établissement","requestBody":{"$ref":"#/components/requestBodies/TableToAdd"},"responses":{"201":{"$ref":"#/components/responses/TableAdded"},"400":{"$ref":"#/components/responses/TableToAddBadRequest"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"404":{"description":"L'établissement est inconnu"},"500":{"description":"Erreur serveur"}}},"delete":{"tags":["Table"],"security":[{"bearerAuth":[]}],"description":"Supprime une table","requestBody":{"$ref":"#/components/requestBodies/TableToDelete"},"responses":{"204":{"$ref":"#/components/responses/TableDeleted"},"400":{"$ref":"#/components/responses/TableToDeleteBadRequest"},"401":{"$ref":"#/components/responses/UnauthorizedJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"404":{"description":"La table n'a pas été trouvée dans la base de données"},"500":{"description":"Erreur serveur"}}}},"/user/login":{"post":{"tags":["User"],"description":"renvoie un JWT token permettant l'identification","requestBody":{"description":"login pour la connexion","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Login"}}}},"responses":{"200":{"description":"un token JWT","content":{"text/plain":{"schema":{"type":"string"}}}},"400":{"description":"nom d'utilisateur ou mot de passe manquants"},"401":{"description":"mot de passe incorrect"},"404":{"description":"utilisateur inconnu"},"500":{"description":"erreur serveur"}}}}},"components":{"responses":{"EstablishmentUpdated":{"description":"L'établissement a été modifié"},"UpdateEstablishmentBadRequest":{"description":"Tous les champs du corps de la requête doivent être définis"},"EstablishmentDeleted":{"description":"L'établissement a été supprimé ainsi que toutes ses tables, ses réversations et ses liens avec les employés"},"DeleteEstablishmentBadRequest":{"description":"L'id de l'établissement doit être définit"},"EstablishmentFound":{"description":"Renvoie un établissement","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Establishment"}}}},"EstablishmentRetrievedBadRequest":{"description":"L'id de l'établissement doit être définis"},"ArrayOfEstablishments":{"description":"Renvoie tous les établissements","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Establishment"}}}},"EstablishmentAdded":{"description":"L'établissement a été ajouté et son id est renvoyé"},"AddEstablishmentBadRequest":{"description":"Tous les champs du corps de la requête doivent être définis"},"UserbyUsernameFound":{"description":"Renvoie un utilisateur sur base de son nom d'utilisateur","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Person"}}}},"UserbyUsernameRetrievedBadRequest":{"description":"Le username doit être définis"},"UserbyPhoneFound":{"description":"Renvoie un utilisateur sur base de son numéro de téléphone","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Person"}}}},"UserbyPhoneRetrievedBadRequest":{"description":"Le numéro de téléphone doit être définis"},"UsersByEstablishmentIdFound":{"description":"Renvoie tous les serveurs d'un restaurant","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Person"}}}},"UsersByEstablishmentIdRetrievedBadRequest":{"description":"L'id de l'établissement doit être définit"},"UsersFound":{"description":"Renvoie tous les utilisateurs","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer"},"username":{"type":"string"},"password":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"birthDate":{"type":"string","format":"date"},"gender":{"type":"string"},"phoneNumber":{"type":"string"},"email":{"type":"string"},"addressId":{"type":"integer"}}}}}},"UserAdded":{"description":"L'utilisateur a été ajouté"},"AddUserBadRequest":{"description":"Tous les champs du corps de la requête doivent être définis"},"UserUpdated":{"description":"L'utilisateur a été modifié"},"UpdateUserBadRequest":{"description":"Tous les champs du corps de la requête doivent être définis"},"UserLinkedToEstablishment":{"description":"L'utilisateur a été lié à l'établissement"},"LinkUserBadRequest":{"description":"L'id du l'utilisateur et de l'établissement doivent être définis"},"UserUnlinkedFromEstablishment":{"description":"L'utilisateur a été délié de l'établissement"},"UnlinkUserBadRequest":{"description":"L'id du l'utilisateur et de l'établissement doivent être définis"},"PasswordUpdated":{"description":"Le mot de passe a été modifié"},"UpdatePasswordBadRequest":{"description":"Le nom d'utilisateur, l'ancien et le nouveau mot de passe doivent être définis"},"UpdatePasswordUnauthorized":{"description":"L'ancien mot de passe n'est pas correct"},"ReservationAdded":{"description":"La réservation a été ajoutée"},"AddReservationBadRequest":{"description":"Tous les champs du corps de la requête doivent être définis"},"ArrayOfClientReservations":{"description":"Renvoie toutes réservations d'un client","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Reservation"}}}},"ClientReservationsRetrievedBadRequest":{"description":"L'id du client doit être définis"},"ArrayOfDayReservations":{"description":"Renvoie toutes réservations d'un jour","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Reservation"}}}},"DayReservationsRetrievedBadRequest":{"description":"Le jour doit être définis"},"ArrivingTimeUpdated":{"description":"L'heure d'arrivée du client a été modifiée"},"UpdateArrivingTimeBadRequest":{"description":"Tous les champs du corps de la requête doivent être définis"},"ExitTimeUpdated":{"description":"L'heure de sortie du client a été modifiée"},"UpdateExitTimeBadRequest":{"description":"Tous les champs du corps de la requête doivent être définis"},"ReservationCanceled":{"description":"La réservation a été annulée"},"ToCancelBadRequest":{"description":"L'id de la personne et la date de réservation doivent être définis"},"TableAdded":{"description":"La table a été ajoutée"},"AddTableBadRequest":{"description":"L'id de l'établissement, le nombre de siège et l'emplacement de la table doivent être définis"},"ArrayOfTables":{"description":"Renvoie toutes les tables non occupées d'un établissement pour telle date","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Table"}}}},"AllTablesRetrievedBadRequest":{"description":"L'id de l'établissement doit être définis"},"TableFound":{"description":"Renvoie une table d'un établissement","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Table"}}}},"TableRetrievedBadRequest":{"description":"L'id de l'établissement et l'id de la table doivent être définis"},"TableDeleted":{"description":"La table a été supprimée"},"DeleteTableBadRequest":{"description":"L'id de l'établissement et l'id de la table doivent être définis"},"mustBeAdmin":{"description":"L'action demandée ne peut être réalisée que par un administrateur"},"mustBeWaiter":{"description":"L'action demandée ne peut être réalisée que par un serveur"},"UnauthorizedJWT":{"description":"JWT manquant ou expiré","content":{"application/json":{"schema":{"oneOf":null,"$ref":"#/components/schemas/WrongJWT"}}}},"ErrorJWT":{"description":"Le JWT n'est pas valide"},"MissingJWT":{"description":"Le JWT n'est pas présent"},"ExpiredJWT":{"description":"Le JWT est expiré"},"EstablishmentToGetBadRequest":{"description":"Mauvaise requête pour la récupération d'un établissement","content":{"application/json":{"schema":{"oneOf":null,"$ref":"#/components/schemas/EstablishmentToGetBadRequestResponse"}}}},"EstablishmentToAddBadRequest":{"description":"Mauvaise requête pour l'ajout d'un établissement","content":{"application/json":{"schema":{"oneOf":null,"$ref":"#/components/schemas/EstablishmentToAddBadRequestResponse"}}}},"EstablishmentToUpdateBadRequest":{"description":"Mauvaise requête pour la mise à jour d'un établissement","content":{"application/json":{"schema":{"oneOf":null,"$ref":"#/components/schemas/EstablishmentToUpdateBadRequestResponse"}}}},"EstablishmentToDeleteBadRequest":{"description":"Mauvaise requête pour la suppression d'un établissement","content":{"application/json":{"schema":{"oneOf":null,"$ref":"#/components/schemas/EstablishmentToDeleteBadRequestResponse"}}}},"UserbyUsernameToGetBadRequest":{"description":"Mauvaise requête pour la récupération d'un utilisateur","content":{"application/json":{"schema":{"oneOf":null,"$ref":"#/components/schemas/UserbyUsernameToGetBadRequestResponse"}}}},"UserbyPhoneToGetBadRequest":{"description":"Mauvaise requête pour la récupération d'un utilisateur","content":{"application/json":{"schema":{"oneOf":null,"$ref":"#/components/schemas/UserbyPhoneToGetBadRequestResponse"}}}},"UsersByEstablishmentIdToGetBadRequest":{"description":"Mauvaise requête pour la récupération des serveurs d'un restaurant","content":{"application/json":{"schema":{"oneOf":null,"$ref":"#/components/schemas/UsersByEstablishmentIdToGetBadRequestResponse"}}}},"UserToAddBadRequest":{"description":"Mauvaise requête pour l'ajout d'un utilisateur","content":{"application/json":{"schema":{"oneOf":null,"$ref":"#/components/schemas/UserToAddBadRequestResponse"}}}},"UserToUpdateBadRequest":{"description":"Mauvaise requête pour la mise à jour d'un utilisateur","content":{"application/json":{"schema":{"oneOf":null,"$ref":"#/components/schemas/UserToUpdateBadRequestResponse"}}}},"PasswordToUpdateBadRequest":{"description":"Mauvaise requête pour la mise à jour du mot de passe d'un utilisateur","content":{"application/json":{"schema":{"oneOf":null,"$ref":"#/components/schemas/PasswordToUpdateBadRequestResponse"}}}},"PasswordToUpdateUnauthorized":{"description":"Mauvaise authorisation pour la mise à jour du mot de passe d'un utilisateur","content":{"application/json":{"schema":{"oneOf":null,"$ref":"#/components/schemas/PasswordToUpdateUnauthorizedResponse"}}}},"UserToLinkBadRequest":{"description":"Mauvaise requête pour la liaison d'un utilisateur à un établissement","content":{"application/json":{"schema":{"oneOf":null,"$ref":"#/components/schemas/UserToLinkBadRequestResponse"}}}},"UserToUnlinkBadRequest":{"description":"Mauvaise requête pour la séparation d'un serveur d'un établissement","content":{"application/json":{"schema":{"oneOf":null,"$ref":"#/components/schemas/UserToUnlinkBadRequestResponse"}}}},"ClientReservationsToGetBadRequest":{"description":"Mauvaise requête pour la récupération des réservation d'un client","content":{"application/json":{"schema":{"oneOf":null,"$ref":"#/components/schemas/ClientReservationsToGetBadRequestResponse"}}}},"DayReservationsToGetBadRequest":{"description":"Mauvaise requête pour la récupération des réservation d'un jour","content":{"application/json":{"schema":{"oneOf":null,"$ref":"#/components/schemas/DayReservationsToGetBadRequestResponse"}}}},"ReservationToAddBadRequest":{"description":"Mauvaise requête pour l'ajout d'une réservation","content":{"application/json":{"schema":{"oneOf":null,"$ref":"#/components/schemas/ReservationToAddBadRequestResponse"}}}},"ArrivingTimeToUpdateBadRequest":{"description":"Mauvaise requête pour la mise à jour de l'heure d'arrivée d'un client","content":{"application/json":{"schema":{"oneOf":null,"$ref":"#/components/schemas/ArrivingTimeToUpdateBadRequestResponse"}}}},"ExitTimeToUpdateBadRequest":{"description":"Mauvaise requête pour la mise à jour de l'heure de sortie d'un client","content":{"application/json":{"schema":{"oneOf":null,"$ref":"#/components/schemas/ExitTimeToUpdateBadRequestResponse"}}}},"ReservationToCancelBadRequest":{"description":"Mauvaise requête pour l'annulation de la réservation d'un client","content":{"application/json":{"schema":{"oneOf":null,"$ref":"#/components/schemas/ReservationToCancelBadRequestResponse"}}}},"TablesToGetBadRequest":{"description":"Mauvaise requête pour la récupération des tables","content":{"application/json":{"schema":{"oneOf":null,"$ref":"#/components/schemas/TablesToGetBadRequestResponse"}}}},"TableToGetBadRequest":{"description":"Mauvaise requête pour la récupération d'une table","content":{"application/json":{"schema":{"oneOf":null,"$ref":"#/components/schemas/TableToGetBadRequestResponse"}}}},"TableToAddBadRequest":{"description":"Mauvaise requête pour l'ajout de la table","content":{"application/json":{"schema":{"oneOf":null,"$ref":"#/components/schemas/TableToAddBadRequestResponse"}}}},"TableToDeleteBadRequest":{"description":"Mauvaise requête pour la suppression de la table","content":{"application/json":{"schema":{"oneOf":null,"$ref":"#/components/schemas/TableToDeleteBadRequestResponse"}}}}},"requestBodies":{"EstablishmentToUpdate":{"description":"Etablissement à mettre à jour","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"phoneNumber":{"type":"string"},"VATNumber":{"type":"string"},"email":{"type":"string"},"category":{"type":"string"},"addressId":{"type":"integer"},"street":{"type":"string"},"number":{"type":"string"},"country":{"type":"string"},"city":{"type":"string"},"postalCode":{"type":"string"}},"required":["id","name","phoneNumber","VATNumber","email","category","addressId","street","number","country","city","postalCode"]}}}},"EstablishmentToDelete":{"description":"Etablissement à supprimer","content":{"application/json":{"schema":{"type":"object","properties":{"idEstablishment":{"type":"integer"}},"required":["idEstablishment"]}}}},"EstablishmentToAdd":{"description":"Etablissement à ajouter","content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string"},"phoneNumber":{"type":"string"},"VATNumber":{"type":"string"},"email":{"type":"string"},"category":{"type":"string"},"street":{"type":"string"},"number":{"type":"string"},"country":{"type":"string"},"city":{"type":"string"},"postalCode":{"type":"string"}},"required":["name","phoneNumber","VATNumber","email","category","street","number","country","city","postalCode"]}}}},"UserToAdd":{"description":"Utilisateur à ajouter","content":{"application/json":{"schema":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string","format":"password"},"lastName":{"type":"string"},"firstName":{"type":"string"},"birthDate":{"type":"string","format":"date"},"gender":{"type":"string"},"phoneNumber":{"type":"string"},"email":{"type":"string"},"address":{"type":"object","properties":{"street":{"type":"string"},"number":{"type":"string"},"country":{"type":"string"},"city":{"type":"string"},"postalCode":{"type":"string"}}}},"required":["username","password","lastName","firstName","birthDate","gender","phoneNumber","email","street","number","country","city","postalCode"]}}}},"UserToUpdate":{"description":"Utilisateur à mettre à jour","content":{"application/json":{"schema":{"type":"object","properties":{"username":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"birthDate":{"type":"string"},"gender":{"type":"string"},"phoneNumber":{"type":"string"},"email":{"type":"string"},"address":{"type":"object","properties":{"addressId":{"type":"integer"},"street":{"type":"string"},"number":{"type":"string"},"country":{"type":"string"},"city":{"type":"string"},"postalCode":{"type":"string"}}}},"required":["firtsName","lastName","birthDate","gender","phoneNumber","email","addressId","street","number","country","city","postalCode"]}}}},"UserToLink":{"description":"Utilisateur à lier à un établissement","content":{"application/json":{"schema":{"type":"object","properties":{"userId":{"type":"integer"},"establishmentId":{"type":"integer"}},"required":["userId","establishmentId"]}}}},"UserToUnlink":{"description":"Utilisateur à détacher d'un établissement","content":{"application/json":{"schema":{"type":"object","properties":{"userId":{"type":"integer"},"establishmentId":{"type":"integer"}},"required":["userId","establishmentId"]}}}},"PasswordToUpdate":{"description":"Mot de passe à mettre à jour","content":{"application/json":{"schema":{"type":"object","properties":{"username":{"type":"integer"},"currentPassword":{"type":"string","format":"password"},"newPassword":{"type":"string","format":"password"}},"required":["newPassword"]}}}},"ReservationToAdd":{"description":"Réservation à ajouter","content":{"application/json":{"schema":{"type":"object","properties":{"idPerson":{"type":"integer"},"dateTimeReserved":{"type":"string","format":"date-time"},"nbCustomers":{"type":"integer"},"idTable":{"type":"integer"},"idEstablishment":{"type":"integer"},"additionalInformation":{"type":"string"}},"required":["idPerson","dateTimeReserved","nbCustomers","idTable","idEstablishment"]}}}},"ArrivingTimeToUpdate":{"description":"Heure d'arrivée du client à mettre à jour","content":{"application/json":{"schema":{"type":"object","properties":{"idPerson":{"type":"integer"},"dateTimeReserved":{"type":"string","format":"date-time"},"arrivingTime":{"type":"string","format":"time"}},"required":["idPerson","dateTimeReserved","arrivingTime"]}}}},"ExitTimeToUpdate":{"description":"Heure de sortie du client à mettre à jour","content":{"application/json":{"schema":{"type":"object","properties":{"idPerson":{"type":"integer"},"dateTimeReserved":{"type":"string","format":"date-time"},"exitTime":{"type":"string","format":"time"}},"required":["idPerson","dateTimeReserved","exitTime"]}}}},"ReservationToCancel":{"description":"Annule la réservation d'un client","content":{"application/json":{"schema":{"type":"object","properties":{"idPerson":{"type":"integer"},"dateTimeReserved":{"type":"string","format":"date-time"}},"required":["idPerson","dateTimeReserved"]}}}},"TableToAdd":{"description":"Table à ajouter à un établissement","content":{"application/json":{"schema":{"type":"object","properties":{"idEstablishment":{"type":"integer"},"nbSeats":{"type":"integer"},"isOutside":{"type":"boolean"}},"required":["idEstablishment","nbSeats","isOutside"]}}}},"TableToDelete":{"description":"Table à supprimer d'un établissement","content":{"application/json":{"schema":{"type":"object","properties":{"idEstablishment":{"type":"integer"},"idTable":{"type":"integer"}},"required":["idEstablishment","idTable"]}}}}},"schemas":{"Establishment":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"phoneNumber":{"type":"string"},"VATNumber":{"type":"string"},"email":{"type":"string"},"category":{"type":"string"},"addressId":{"type":"integer"},"street":{"type":"string"},"number":{"type":"string"},"country":{"type":"string"},"city":{"type":"string"},"postalCode":{"type":"string"}}},"Person":{"type":"object","properties":{"id":{"type":"integer"},"username":{"type":"string"},"password":{"type":"string","format":"password"},"lastName":{"type":"string"},"firstName":{"type":"string"},"birthDate":{"type":"string","format":"date"},"gender":{"type":"string"},"phoneNumber":{"type":"string"},"email":{"type":"string"},"addressId":{"type":"string"},"street":{"type":"string"},"number":{"type":"string"},"country":{"type":"string"},"city":{"type":"string"},"postalCode":{"type":"string"}}},"Reservation":{"type":"object","properties":{"person_id":{"type":"integer"},"dateTimeReserved":{"type":"string","format":"date-time"},"arrivingTime":{"type":"string","format":"time"},"exitTime":{"type":"string","format":"time"},"customerNbr":{"type":"integer"},"additionnalInfo":{"type":"string"},"isCancelled":{"type":"boolean"},"tableId":{"type":"integer"},"isOutside":{"type":"boolean"},"customer":{"type":"object","properties":{"username":{"type":"string"},"lastName":{"type":"string"},"firstName":{"type":"string"},"phoneNumber":{"type":"string"},"email":{"type":"string"}}}}},"Table":{"type":"object","properties":{"idTable":{"type":"integer"},"idEstablishment":{"type":"integer"},"nbSeats":{"type":"integer"},"isOutside":{"type":"boolean"}}},"Login":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string","format":"password"}},"required":["username","password"]},"WrongJWT":{"type":"object","oneOf":[{"$ref":"#/components/responses/MissingJWT"},{"$ref":"#/components/responses/ExpiredJWT"}]},"EstablishmentToGetBadRequestResponse":{"type":"object","oneOf":[{"$ref":"#/components/responses/ErrorJWT"},{"$ref":"#/components/responses/EstablishmentRetrievedBadRequest"}]},"EstablishmentToAddBadRequestResponse":{"type":"object","oneOf":[{"$ref":"#/components/responses/ErrorJWT"},{"$ref":"#/components/responses/AddEstablishmentBadRequest"}]},"EstablishmentToUpdateBadRequestResponse":{"type":"object","oneOf":[{"$ref":"#/components/responses/ErrorJWT"},{"$ref":"#/components/responses/UpdateEstablishmentBadRequest"}]},"EstablishmentToDeleteBadRequestResponse":{"type":"object","oneOf":[{"$ref":"#/components/responses/ErrorJWT"},{"$ref":"#/components/responses/DeleteEstablishmentBadRequest"}]},"UserbyUsernameToGetBadRequestResponse":{"type":"object","oneOf":[{"$ref":"#/components/responses/ErrorJWT"},{"$ref":"#/components/responses/UserbyUsernameRetrievedBadRequest"}]},"UserbyPhoneToGetBadRequestResponse":{"type":"object","oneOf":[{"$ref":"#/components/responses/ErrorJWT"},{"$ref":"#/components/responses/UserbyPhoneRetrievedBadRequest"}]},"UsersByEstablishmentIdToGetBadRequestResponse":{"type":"object","oneOf":[{"$ref":"#/components/responses/ErrorJWT"},{"$ref":"#/components/responses/UsersByEstablishmentIdRetrievedBadRequest"}]},"UserToAddBadRequestResponse":{"type":"object","oneOf":[{"$ref":"#/components/responses/ErrorJWT"},{"$ref":"#/components/responses/AddUserBadRequest"}]},"UserToUpdateBadRequestResponse":{"type":"object","oneOf":[{"$ref":"#/components/responses/ErrorJWT"},{"$ref":"#/components/responses/UpdateUserBadRequest"}]},"PasswordToUpdateBadRequestResponse":{"type":"object","oneOf":[{"$ref":"#/components/responses/ErrorJWT"},{"$ref":"#/components/responses/UpdatePasswordBadRequest"}]},"PasswordToUpdateUnauthorizedResponse":{"type":"object","oneOf":[{"$ref":"#/components/responses/UnauthorizedJWT"},{"$ref":"#/components/responses/UpdatePasswordUnauthorized"}]},"UserToLinkBadRequestResponse":{"type":"object","oneOf":[{"$ref":"#/components/responses/ErrorJWT"},{"$ref":"#/components/responses/LinkUserBadRequest"}]},"UserToUnlinkBadRequestResponse":{"type":"object","oneOf":[{"$ref":"#/components/responses/ErrorJWT"},{"$ref":"#/components/responses/UnlinkUserBadRequest"}]},"ClientReservationsToGetBadRequestResponse":{"type":"object","oneOf":[{"$ref":"#/components/responses/ErrorJWT"},{"$ref":"#/components/responses/ClientReservationsRetrievedBadRequest"}]},"DayReservationsToGetBadRequestResponse":{"type":"object","oneOf":[{"$ref":"#/components/responses/ErrorJWT"},{"$ref":"#/components/responses/DayReservationsRetrievedBadRequest"}]},"ReservationToAddBadRequestResponse":{"type":"object","oneOf":[{"$ref":"#/components/responses/ErrorJWT"},{"$ref":"#/components/responses/AddReservationBadRequest"}]},"ArrivingTimeToUpdateBadRequestResponse":{"type":"object","oneOf":[{"$ref":"#/components/responses/ErrorJWT"},{"$ref":"#/components/responses/UpdateArrivingTimeBadRequest"}]},"ExitTimeToUpdateBadRequestResponse":{"type":"object","oneOf":[{"$ref":"#/components/responses/ErrorJWT"},{"$ref":"#/components/responses/UpdateExitTimeBadRequest"}]},"ReservationToCancelBadRequestResponse":{"type":"object","oneOf":[{"$ref":"#/components/responses/ErrorJWT"},{"$ref":"#/components/responses/ToCancelBadRequest"}]},"TablesToGetBadRequestResponse":{"type":"object","oneOf":[{"$ref":"#/components/responses/ErrorJWT"},{"$ref":"#/components/responses/AllTablesRetrievedBadRequest"}]},"TableToGetBadRequestResponse":{"type":"object","oneOf":[{"$ref":"#/components/responses/ErrorJWT"},{"$ref":"#/components/responses/TableRetrievedBadRequest"}]},"TableToAddBadRequestResponse":{"type":"object","oneOf":[{"$ref":"#/components/responses/ErrorJWT"},{"$ref":"#/components/responses/AddTableBadRequest"}]},"TableToDeleteBadRequestResponse":{"type":"object","oneOf":[{"$ref":"#/components/responses/ErrorJWT"},{"$ref":"#/components/responses/DeleteTableBadRequest"}]}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}},"tags":[]}